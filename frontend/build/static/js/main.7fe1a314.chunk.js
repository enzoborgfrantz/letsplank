(this.webpackJsonpletsplank=this.webpackJsonpletsplank||[]).push([[0],{17:function(e,n,t){e.exports=t(28)},22:function(e,n,t){},23:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},24:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),i=t.n(o),c=(t(22),t(1)),u=(t(23),t(24),t(3)),l=t(2),s=t(6),d=[];var f={clientId:"585215768320-6mpak3k27vfsa2ljulfed020ujaidl2t.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid"},p=Object(r.createContext)({isGoogleApiReady:!1}),m=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],a=n[1],o=function(e){var n=Object(r.useState)({loaded:!1,error:!1}),t=Object(u.a)(n,2),a=t[0],o=t[1];return Object(r.useEffect)((function(){if(!d.includes(e)){d.push(e);var n=document.createElement("script");n.src=e,n.async=!0;var t=function(){o({loaded:!0,error:!1})},r=function(){var t=d.indexOf(e);t>=0&&d.splice(t,1),n.remove(),o({loaded:!0,error:!0})};return n.addEventListener("load",t),n.addEventListener("error",r),document.body.appendChild(n),function(){n.removeEventListener("load",t),n.removeEventListener("error",r)}}o({loaded:!0,error:!1})}),[e]),[a.loaded,a.error]}("https://apis.google.com/js/platform.js"),i=Object(u.a)(o,1)[0];return Object(r.useEffect)((function(){if(i){var e=window.gapi;e.load("client:auth2",(function(){var n=e.auth2.init(f).then((function(){console.log("authentication loaded")})),t=e.client.init(f).then((function(){console.log("client loaded",window.gapi.client.drive)})),r=e.client.load("drive","v3");Promise.all([n,t,r]).then((function(){return a(!0)}))}))}}),[i]),{isGoogleApiReady:t}},b=function(e){var n=e.children,t=m();return a.a.createElement(p.Provider,{value:t},n)},g=function(){return Object(r.useContext)(p)},h=t(16),v=t(4),x=t.n(v),E=t(7),O=Object(r.createContext)({isUserAuthenticated:!1}),j=function(e){var n=e.children,t=function(){var e=g(),n=e.isGoogleApiReady,t=Object(r.useState)(!1),a=Object(u.a)(t,2),o=a[0],i=a[1],c=Object(r.useState)(),l=Object(u.a)(c,2),s=l[0],d=l[1],f=function(){var e=gapi.auth2.getAuthInstance(),n=e.isSignedIn.get();if(i(n),n){var t=e.currentUser.get().getBasicProfile(),r={name:t.getName(),firstName:t.getGivenName(),lastName:t.getFamilyName(),profilePhotoUrl:t.getImageUrl(),email:t.getEmail(),id:t.getId()};return d(r),r}},p=function(){var e=Object(E.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.gapi.auth2.getAuthInstance().signIn().then(f));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n&&!o&&f()}),[n,o]),Object(h.a)({},e,{isUserAuthenticated:o,userProfile:s,signIn:p,signOut:function(){window.gapi.auth2.getAuthInstance().signOut().then((function(){d(void 0),i(!1)}))}})}();return a.a.createElement(O.Provider,{value:t},n)},w=function(){return Object(r.useContext)(O)},y=t(15);function k(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  margin-right: 5px;\n"]);return k=function(){return e},e}function S(){var e=Object(c.a)(["\n  color: ",";\n  width: 25px;\n  height: 25px;\n"]);return S=function(){return e},e}function P(){var e=Object(c.a)(["\n  margin-bottom: 5px;\n  font-family: Questrial;\n  color: ",";\n  font-size: 13px;\n"]);return P=function(){return e},e}function I(){var e=Object(c.a)(["\n  width: 100%;\n  height: 5px;\n  background-color: ",";\n  border-radius: 4px;\n"]);return I=function(){return e},e}function A(){var e=Object(c.a)(["\n  background-color: #f3f3f3;\n  border-radius: 5px;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return A=function(){return e},e}var C,N,R=l.a.div(A()),U=l.a.div(I(),"#01062a"),L=l.a.span(P(),"#01062a"),F=Object(l.a)(y.a)(S(),"#f51b28"),B=l.a.div(k()),z=function(e){var n=e.title,t=e.currentRecord;return a.a.createElement(R,null,a.a.createElement(B,null,a.a.createElement(L,null,n,a.a.createElement("b",null," "+t)),a.a.createElement(U,null)),a.a.createElement(F,null))};function G(){var e=Object(c.a)(["\n  > * {\n    margin-bottom: 8px;\n  }\n"]);return G=function(){return e},e}function Q(){var e=Object(c.a)(["\n  border-radius: 100px;\n  bodrder: 2px solid;\n  text-align: center;\n  font-size: 70px;\n  font-family: Questrial;\n  margin: 0;\n  margin-bottom: 10px;\n"]);return Q=function(){return e},e}function T(){var e=Object(c.a)(["\n  width: 100%;\n"]);return T=function(){return e},e}function J(){var e=Object(c.a)(["\n  width: 100%;\n  border-radius: 5px;\n  padding: 10px;\n  color: white;\n  font-family: Questrial;\n  background-color: ",";\n  font-size: 20px;\n  border: none;\n"]);return J=function(){return e},e}!function(e){e.Initial="initial",e.Running="running",e.Finished="finished"}(N||(N={}));var W=l.a.button(J(),"#f51b28"),D=l.a.div(T()),M=l.a.div(Q()),$=l.a.div(G()),q=function(){var e=w(),n=e.isUserAuthenticated,t=e.userProfile,o=Object(r.useState)(N.Initial),i=Object(u.a)(o,2),c=i[0],l=i[1],d=Object(r.useState)(0),f=Object(u.a)(d,2),p=f[0],m=f[1],b=Object(s.a)(p,"mm:ss:SS");return a.a.createElement(D,null,a.a.createElement($,null,a.a.createElement(z,{title:"Personal Best",currentRecord:Object(s.a)(5e3,"mm:ss:SS")}),a.a.createElement(z,{title:"Weekly Leaderboard Best",currentRecord:Object(s.a)(1e4,"mm:ss:SS")}),a.a.createElement(z,{title:"All Time Leaderboard Best",currentRecord:Object(s.a)(3e4,"mm:ss:SS")})),a.a.createElement("br",null),c===N.Initial&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,b),a.a.createElement(W,{onClick:function(){l(N.Running);var e=Date.now();C=window.setInterval((function(){m(Date.now()-e)}),10)}},"Start")),c===N.Running&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,b),a.a.createElement(W,{onClick:function(){l(N.Finished),clearInterval(C)}},"Stop")),c===N.Finished&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,b),n?a.a.createElement(W,{onClick:function(){t&&fetch("/plank",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({userId:t.id,durationMS:p})}).then(console.log)}},"Submit"):a.a.createElement("span",null,"Please authenticate to submit score")))};function H(){var e=Object(c.a)(["\n  color: white;\n  display: flex;\n  width: 100%;\n  white-space: nowrap;\n  border: none;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 5px;\n  padding: 5px 10px;\n"]);return H=function(){return e},e}function K(){var e=Object(c.a)(["\n  color: white;\n  position: absolute;\n  right: 0;\n  top: 100%;\n  margin-top: 4px;\n  background-color: #1a1f40;\n  border-radius: 8px;\n  padding: 5px 10px;\n  z-index: 1;\n"]);return K=function(){return e},e}function V(){var e=Object(c.a)(["\n  color: white;\n  font-family: monospace;\n  margin-left: 8px;\n  margin-right: 4px;\n  color: white;\n  font-family: Questrial;\n"]);return V=function(){return e},e}function X(){var e=Object(c.a)(["\n  border-radius: 8px;\n  width: 50px;\n  height: 50px;\n"]);return X=function(){return e},e}function Y(){var e=Object(c.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n"]);return Y=function(){return e},e}var Z=l.a.div(Y()),_=l.a.img(X()),ee=(l.a.span(V()),l.a.div(K())),ne=l.a.button(H()),te=function(e){var n=e.profilePhotoUrl,t=(e.firstName,e.signOut),o=Object(r.useState)(!1),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(r.useRef)();return function(e,n){Object(r.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}(s,(function(){return l(!1)})),a.a.createElement(a.a.Fragment,null,a.a.createElement(Z,{ref:s,onClick:function(){return l(!0)}},a.a.createElement(_,{src:n}),c&&a.a.createElement(ee,null,a.a.createElement(ne,{onClick:t},"Sign out"))))},re=function(){var e=g().isGoogleApiReady,n=w(),t=n.isUserAuthenticated,o=n.userProfile,i=n.signIn,c=n.signOut;if(Object(r.useEffect)((function(){if(o){var e=o.firstName,n=o.profilePhotoUrl,t=o.id;fetch("/user",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:e,profilePhotoUrl:n,id:t})}).then(console.log)}}),[o]),!e)return null;var u=function(){var e=Object(E.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i();case 4:console.log("signed in");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,t?o?a.a.createElement(te,{profilePhotoUrl:o.profilePhotoUrl,firstName:o.firstName,signOut:c}):null:a.a.createElement("button",{onClick:u},"Sign in"))};function ae(){var e=Object(c.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 5px;\n  padding: 11px 20px 17px 10px;\n"]);return ae=function(){return e},e}function oe(){var e=Object(c.a)(["\n  font-family: Questrial;\n  color: white;\n  border-bottom: 2px solid ",';\n  transform: rotate(-10deg);\n  padding-right: 4px;\n  padding-bottom: 4px;\n  &::before {\n    position: absolute;\n    content: "";\n    border-radius: 100px;\n    width: 10px;\n    height: 10px;\n    background-color: ',';\n    right: -10px;\n    bottom: -5px;\n  }\n  &::after {\n    border: 2px solid #f51b28;\n    content: "";\n    position: absolute;\n    bottom: -16px;\n    width: 8px;\n    height: 13px;\n    border-top: none;\n    border-right: none;\n    transform: rotate(10deg);\n    right: -7px;\n  }\n']);return oe=function(){return e},e}var ie=l.a.div(oe(),"#f51b28","#f51b28"),ce=l.a.div(ae()),ue=function(){return a.a.createElement(ce,null,a.a.createElement(ie,null,"LetsPlank"))};function le(){var e=Object(c.a)(["\n  display: flex;\n  box-sizing: border-box;\n  padding: 10px 15px;\n  background-color: #01062a;\n  justify-content: space-between;\n  align-items: center;\n  width: 100vw;\n"]);return le=function(){return e},e}var se=l.a.div(le());var de=function(){return a.a.createElement(b,null,a.a.createElement(j,null,a.a.createElement(se,null,a.a.createElement(ue,null),a.a.createElement(re,null)),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{style:{padding:"0 20px"}},a.a.createElement(q,null)),a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.7fe1a314.chunk.js.map